!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=123)}({123:function(e,t,n){"use strict";function r(e){var t=window.location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?decodeURIComponent(t[1]):t}new(n(124))(r("journeyId"),r("iframeId")).init()},124:function(e,t,n){"use strict";function r(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function o(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(n){if("SyntaxError"!==n.name)throw n;r(e,t)}return t}function s(e,t,n){r(e.jId+"."+t,n)}function a(e,t){return o(e.jId+"."+t)}function i(e,t){localStorage.removeItem(e.jId+"."+t)}function c(e){var t=new RegExp("^"+e+"\\.");return Object.keys(localStorage).filter(function(e){return t.test(e)}).reduce(function(e,n){return e[n.replace(t,"")]=o(n),e},{})}function u(e,t){var n,r,o={},s=new RegExp("^"+t);for(n in e)s.test(n)&&(r=n.replace(s,""),o[r]=e[n]);return o}function d(e,t){var n=new RegExp("^"+t.sessionId+"\\."),r=t.sessionId!==e.sId;return r&&(s(e,"sessionId",e.sId),Object.keys(t).filter(function(e){return n.test(e)}).forEach(function(t){return i(e,t)})),r}function f(e,t){var n=u(t,t.sessionId+"\\.");t.sessionId!==e.sId&&(n={}),e.sendMessageToParent("data",n)}function p(e,t){var n=new RegExp("^"+e.jId+"\\.");"storage"===t.type&&n.test(t.key)&&f(e,c(e.jId))}function l(e,t,n){var r=t.value;a(e,"sessionId")===n&&t.hasOwnProperty("value")&&t.hasOwnProperty("key")&&s(e,n+"."+t.key,r)}function I(e,t){var n,r,o;try{n=JSON.parse(t.data)||{}}catch(e){n={}}switch(n.command){case g:e.sId=n.sessionId,r=c(e.jId),o=d(e,r),o&&(r=c(e.jId)),f(e,r);break;case h:l(e,n,e.sId);break;case v:n.hasOwnProperty("key")&&i(e,e.sId+"."+n.key)}}function y(e,t){this.fId=t,this.jId=e,this.pUrl=document.referrer.replace(/^([a-z]*:\/\/[^\/]+).*$/,"$1")||"*"}var g=1,h=2,v=3;y.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return window.localStorage};try{t()}catch(e){return}window.addEventListener("message",function(t){return I(e,t)},!1),window.addEventListener("storage",function(t){return p(e,t)},!1),this.sendMessageToParent("ready")},y.prototype.sendMessageToParent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.parent.postMessage(JSON.stringify({id:this.fId,messageType:e,messageBody:t}),this.pUrl)},e.exports=y}});